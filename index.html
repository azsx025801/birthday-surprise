<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>å°å»–ç”Ÿæ—¥é©šå–œå¤§æŒ‘æˆ°ğŸ‰</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            font-family: 'Microsoft JhengHei', Arial, sans-serif;
            text-align: center;
            background-color: #fff;
            margin: 0;
            padding: 20px;
        }
        button {
            padding: 10px 20px;
            background: #6a0dad;
            color: #fff;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            margin-top: 20px;
        }
        .hidden { display: none; }
        canvas { margin-top: 20px; }
        #arrow {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            border-left: 20px solid transparent;
            border-right: 20px solid transparent;
            border-bottom: 30px solid red;
        }
    </style>
</head>
<body>

<h2>ğŸ‰å°å»–ç”Ÿæ—¥å¿«æ¨‚ğŸ‚</h2>
<div id="welcome">
    <p>æº–å‚™å¥½è¿æ¥å°ˆå±¬å¦³çš„ç”Ÿæ—¥é©šå–œå—ï¼Ÿ</p>
    <button onclick="startQuiz()">ğŸ‘‰ é»æˆ‘é–‹å§‹é©šå–œä¹‹æ—…ï¼</button>
</div>

<div id="quiz" class="hidden"></div>
<div id="wheel" class="hidden">
    <div id="arrow"></div>
    <canvas id="wheelCanvas" width="320" height="320"></canvas>
    <button onclick="spinWheel()">ğŸ¡ é»æ“Šè½‰ç›¤æŠ½ç</button>
    <div id="result"></div>
</div>

<div id="scratch" class="hidden">
    <p>ç”¨æ‰‹æŒ‡åˆ®é–‹é©šå–œï¼</p>
    <canvas id="scratchCanvas" width="300" height="150" style="background: gray;"></canvas>
</div>

<div id="gift" class="hidden">
    <h2>ğŸçœŸæ­£çš„ç¦®ç‰©æ­æ›‰ï¼</h2>
    <p>ä¸€å°é«˜ç´šç­†é›»ğŸ’» + é«˜ç´šæ»‘é¼ ğŸ–±ï¸</p>
    <p>ä½ æ°¸é æ˜¯æˆ‘çš„é ­çï¼Œæˆ‘æ°¸é æ„›ä½ â¤ï¸</p>
</div>

<script>
// Step1: Quiz
const questions = [
    { q: 'æˆ‘å€‘åœ¨ä¸€èµ·åˆ°2025/3/21ç¸½å…±å¹¾å¤©äº†ï¼Ÿ', a: '1638å¤©', wrong: ['1720å¤©','1650å¤©','2000å¤©'] },
    { q:'2020/3/21æˆ‘å€‘åœ¨åšä»€éº¼ï¼Ÿ', opts:['åƒç‡’è‚‰ç«¥è©±','çˆ¬å°åŒ—è±¡å±±','é™½æ˜å±±çœ‹å¤œæ™¯','å¥å‰å¥³å‹å®¶ç©æ¡ŒéŠåƒè›‹ç³•'], allCorrect:true },
    { q:'2021/3/21æˆ‘å€‘åœ¨åšä»€éº¼ï¼Ÿ', a:'æ¡ƒåœ’Xæ°´æ—é¤¨åµæ¶', opts:['æ—¥æœˆæ½­åº¦å‡','é˜¿é‡Œå±±çœ‹æ—¥å‡º','å°„é£›é¢å»å°æ±']},
    { q:'2022/3/21æˆ‘å€‘åœ¨åšä»€éº¼ï¼Ÿ', opts:['æ—¥æœˆæ½­åº¦å‡','é˜¿é‡Œå±±çœ‹æ—¥å‡º','æ¡ƒåœ’Xæ°´æ—é¤¨åµæ¶','å°„é£›é¢å»å°æ±'], ans:'æ—¥æœˆæ½­åº¦å‡' },
    { q:'2023/3/21æˆ‘å€‘åœ¨åšä»€éº¼ï¼Ÿ', opts:['å°„é£›é¢å»å°æ±','æ¡ƒåœ’Xæ°´æ—é¤¨åµæ¶','æ—¥æœˆæ½­åº¦å‡','é˜¿é‡Œå±±çœ‹æ—¥å‡º'], ans:'å°„é£›é¢å»å°æ±' }];
let quizIndex=0;
function startQuiz(){
    document.getElementById('welcome').classList.add('hidden');
    document.getElementById('quiz').classList.remove('hidden');
    nextQuiz(0);
}
function nextQuiz(idx){
    if(idx>=questions.length){
        document.getElementById('quiz').classList.add('hidden');
        document.getElementById('wheel').classList.remove('hidden');
        drawWheel();
        return;
    }
    const q=questions[idx];
    let content=`<h3>${q.q}</h3>`;
    q.opts.forEach(o=>{content+=`<button onclick="nextQuiz(${idx+1})">${o}</button><br>`;});
    document.getElementById('quiz').innerHTML=content;
}

let ctx, startAngle=0, arc=Math.PI/2.5;
function drawWheel(){
    ctx=wheelCanvas.getContext("2d");
    for(let i=0;i<5;i++){
        ctx.fillStyle=`hsl(${i*72},70%,80%)`;
        ctx.beginPath(); ctx.arc(160,160,150,startAngle+i*arc,startAngle+(i+1)*arc); ctx.lineTo(160,160); ctx.fill();
        ctx.save(); ctx.translate(160+Math.cos(startAngle+arc*i+arc/2)*120,160+Math.sin(startAngle+i*arc+arc/2)*120);
        ctx.rotate(startAngle+i*arc+arc/2+Math.PI/2); ctx.fillText(i==4?'ğŸ':'âŒ',-10,0); ctx.restore();
    }
}
function spinWheel(){
    document.getElementById('wheel').classList.add('hidden');
    document.getElementById('scratch').classList.remove('hidden');
}

function scratch(){
    document.getElementById('scratch').classList.add('hidden');
    document.getElementById('gift').classList.remove('hidden');
}
</script>
</body>
</html>
